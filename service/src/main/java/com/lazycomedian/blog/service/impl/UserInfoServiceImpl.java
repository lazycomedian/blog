package com.lazycomedian.blog.service.impl;import com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;import com.lazycomedian.blog.entity.UserInfoEntity;import com.lazycomedian.blog.enums.StatusCodeEnum;import com.lazycomedian.blog.excption.ServiceException;import com.lazycomedian.blog.mapper.UserInfoMapper;import com.lazycomedian.blog.service.UserInfoService;import com.lazycomedian.blog.vo.user.UserInfoVO;import com.lazycomedian.blog.vo.user.UserStatusVO;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Service;import org.springframework.util.ObjectUtils;/** * 用户信息服务实现 * * @author lazyComedian * @date 2022/6/26 21:43 **/@Servicepublic class UserInfoServiceImpl extends ServiceImpl<UserInfoMapper, UserInfoEntity> implements UserInfoService {    @Autowired    private UserInfoMapper userInfoMapper;    @Override    public void updateUserInfo(UserInfoVO userInfoVO) {        UserInfoEntity userInfo = UserInfoEntity.builder()                .id(1)                .nickname(userInfoVO.getNickname())                .intro(userInfoVO.getIntro())                .build();        userInfoMapper.updateById(userInfo);    }    @Override    public void updateUserStatus(UserStatusVO userStatusVO) {        UserInfoEntity userInfo = userInfoMapper.selectById(userStatusVO.getId());        if (ObjectUtils.isEmpty(userInfo)) throw new ServiceException(StatusCodeEnum.USER_NOT_EXIST);//        if (!userStatusVO.getStatus().equals(CommonStatusEnum.AVAILABLE.getStatus()) && !userStatusVO.getStatus().equals(CommonStatusEnum.DISABLED.getStatus()))//            throw new ServiceException("状态只能是0 或者 1");        userInfo.setStatus(userStatusVO.getStatus());        userInfoMapper.updateById(userInfo);    }}