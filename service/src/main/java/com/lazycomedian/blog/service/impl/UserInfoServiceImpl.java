package com.lazycomedian.blog.service.impl;import com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;import com.lazycomedian.blog.common.excption.BizException;import com.lazycomedian.blog.entity.UserInfoEntity;import com.lazycomedian.blog.enums.StatusCodeEnum;import com.lazycomedian.blog.mapper.UserInfoMapper;import com.lazycomedian.blog.service.UserInfoService;import com.lazycomedian.blog.vo.user.EmailVO;import com.lazycomedian.blog.vo.user.UserInfoVO;import com.lazycomedian.blog.vo.user.UserStatusVO;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Service;import org.springframework.transaction.annotation.Transactional;import org.springframework.util.ObjectUtils;/** * 用户信息服务实现 * * @author lazyComedian * @date 2022/6/26 21:43 **/@Servicepublic class UserInfoServiceImpl extends ServiceImpl<UserInfoMapper, UserInfoEntity> implements UserInfoService {    @Autowired    private UserInfoMapper userInfoMapper;    @Transactional(rollbackFor = Exception.class)    @Override    public void updateUserInfo(UserInfoVO userInfoVO) {        UserInfoEntity userInfo = UserInfoEntity.builder()                .id(1)                .nickname(userInfoVO.getNickname())                .intro(userInfoVO.getIntro())                .build();        userInfoMapper.updateById(userInfo);    }    @Transactional(rollbackFor = Exception.class)    @Override    public void updateUserStatus(UserStatusVO userStatusVO) {        UserInfoEntity userInfo = userInfoMapper.selectById(userStatusVO.getId());        if (ObjectUtils.isEmpty(userInfo)) throw new BizException(StatusCodeEnum.USER_NOT_EXIST);        userInfo.setStatus(userStatusVO.getStatus());        userInfoMapper.updateById(userInfo);    }    @Transactional(rollbackFor = Exception.class)    @Override    public void saveUserEmail(EmailVO emailVO) {    }}